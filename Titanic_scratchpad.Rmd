---
title: "This is just the scratchpad for the analysis not the final report"
author: "Ozan Aygun"
date: "5/7/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, results = "markup", fig.align = "center",
                      fig.width = 5, fig.height = 5)
setwd("~/Desktop/2016/Data_science/Kaggle/Kaggle-Competition-Titanic")
```

Load the data sets:

```{r}
training <- read.csv("train.csv", stringsAsFactors = FALSE, na.strings = "")
testing <- read.csv("test.csv", stringsAsFactors = FALSE,na.strings = "")
```

Summarize the training data set:
```{r}
summary(training)
table(training$Sex)
table(training$Cabin)
table(training$Embarked)
```


# General preprocessing and EDA (all processing performed in the building set and exactly applied to tune.testing,validation, and final_testing sets)

Exploration by pairs plot:

```{r}
pairs(Survived ~ Age+ SibSp+Parch+Fare,pch =19, cex = 0.4,data=training,
      col= ifelse(training$Survived == 1, "navy","red"))

# Clearly less people survived from the 3rd class
table(training$Survived,training$Pclass)

table(training$Survived, training$Embarked)

# Clearly more Females survived
table(training$Survived,training$Sex)



# Consistent with the Class ~ Survival relationship
boxplot(log(Fare) ~ Survived, data = training)
boxplot(SibSp ~ Survived, data = training)
boxplot(Parch ~ Survived, data = training)
```

Feature Engineering:

Better to perform this step at the very end for all categorical variables.

Remove the passenger ID column from the training set.

STEP1: Generate Dummy Variables for Sex, Pclass
```{r}
library(caret)
dummies <- dummyVars(Survived ~ Sex + factor(Pclass), data = training)

# Add the dummy variables to both training and test data set:
training <- cbind(training, predict(dummies,newdata = training))
testing <- cbind(testing, predict(dummies,newdata = testing))
```

